{"ast":null,"code":"var _jsxFileName = \"C:\\\\anudip\\\\budgetmate\\\\frontend\\\\src\\\\pages\\\\Login.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport api from \"../utils/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [splash, setSplash] = useState({\n    show: false,\n    name: \"\"\n  });\n  const handleLogin = async e => {\n    e.preventDefault();\n    try {\n      const res = await api.post(\"/auth/login\", {\n        email,\n        password\n      });\n      if (res.data.ok) {\n        localStorage.setItem(\"token\", res.data.token);\n        setSplash({\n          show: true,\n          name: res.data.firstName\n        });\n        setTimeout(() => {\n          window.location.href = \"/dashboard\";\n        }, 3500);\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      alert(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"Login failed\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [splash.show && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"splash\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Welcome, \", splash.name, \" \\uD83D\\uDC4B\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 47\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleLogin,\n        className: \"flex\",\n        style: {\n          flexDirection: \"column\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"Email\",\n          onChange: e => setEmail(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          onChange: e => setPassword(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ForgotPassword, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"NVId7JHPnt5MMXBjx8KcUV6cVMk=\");\n_c = Login;\nfunction ForgotPassword() {\n  _s2();\n  const [email, setEmail] = useState(\"\");\n  const [code, setCode] = useState(\"\");\n  const [step, setStep] = useState(1);\n  const [newPassword, setNewPassword] = useState(\"\");\n  const send = async () => {\n    await api.post(\"/auth/forgot/send-otp\", {\n      email\n    });\n    alert(\"OTP sent to email\");\n    setStep(2);\n  };\n  const reset = async () => {\n    await api.post(\"/auth/forgot/reset\", {\n      email,\n      code,\n      newPassword\n    });\n    alert(\"Password reset successful. Please login.\");\n    window.location.href = \"/login\";\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Forgot Password?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Enter your email\",\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 43\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: send,\n        children: \"Send OTP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 124\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex\",\n      style: {\n        flexDirection: \"column\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Enter OTP\",\n        onChange: e => setCode(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"New Password\",\n        onChange: e => setNewPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: reset,\n        children: \"Reset Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s2(ForgotPassword, \"FnxIPRJRQLniWWI/WFSaK8IO4Qw=\");\n_c2 = ForgotPassword;\nvar _c, _c2;\n$RefreshReg$(_c, \"Login\");\n$RefreshReg$(_c2, \"ForgotPassword\");","map":{"version":3,"names":["React","useState","api","jsxDEV","_jsxDEV","Login","_s","email","setEmail","password","setPassword","splash","setSplash","show","name","handleLogin","e","preventDefault","res","post","data","ok","localStorage","setItem","token","firstName","setTimeout","window","location","href","err","_err$response","_err$response$data","alert","response","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","style","flexDirection","type","placeholder","onChange","target","value","required","ForgotPassword","_c","_s2","code","setCode","step","setStep","newPassword","setNewPassword","send","reset","onClick","_c2","$RefreshReg$"],"sources":["C:/anudip/budgetmate/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport api from \"../utils/api\";\n\nexport default function Login() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [splash, setSplash] = useState({ show:false, name:\"\" });\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    try {\n      const res = await api.post(\"/auth/login\", { email, password });\n      if (res.data.ok) {\n        localStorage.setItem(\"token\", res.data.token);\n        setSplash({ show:true, name: res.data.firstName });\n        setTimeout(() => { window.location.href=\"/dashboard\"; }, 3500);\n      }\n    } catch (err) {\n      alert(err.response?.data?.error || \"Login failed\");\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      {splash.show && <div className=\"splash\"><h1>Welcome, {splash.name} ðŸ‘‹</h1></div>}\n      <div className=\"card\">\n        <h2>Login</h2>\n        <form onSubmit={handleLogin} className=\"flex\" style={{flexDirection:\"column\"}}>\n          <input type=\"email\" placeholder=\"Email\" onChange={(e)=>setEmail(e.target.value)} required/>\n          <input type=\"password\" placeholder=\"Password\" onChange={(e)=>setPassword(e.target.value)} required/>\n          <button type=\"submit\">Login</button>\n        </form>\n        <br/>\n        <ForgotPassword />\n      </div>\n    </div>\n  );\n}\n\nfunction ForgotPassword(){\n  const [email, setEmail] = useState(\"\");\n  const [code, setCode] = useState(\"\");\n  const [step, setStep] = useState(1);\n  const [newPassword, setNewPassword] = useState(\"\");\n\n  const send = async () => {\n    await api.post(\"/auth/forgot/send-otp\", { email });\n    alert(\"OTP sent to email\");\n    setStep(2);\n  };\n  const reset = async () => {\n    await api.post(\"/auth/forgot/reset\", { email, code, newPassword });\n    alert(\"Password reset successful. Please login.\");\n    window.location.href=\"/login\";\n  };\n\n  return (\n    <div className=\"card\">\n      <h3>Forgot Password?</h3>\n      {step===1 && (<div className=\"flex\"><input placeholder=\"Enter your email\" onChange={(e)=>setEmail(e.target.value)} /><button onClick={send}>Send OTP</button></div>)}\n      {step===2 && (<div className=\"flex\" style={{flexDirection:\"column\"}}>\n        <input placeholder=\"Enter OTP\" onChange={(e)=>setCode(e.target.value)} />\n        <input type=\"password\" placeholder=\"New Password\" onChange={(e)=>setNewPassword(e.target.value)} />\n        <button onClick={reset}>Reset Password</button>\n      </div>)}\n    </div>\n  );\n}\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,GAAG,MAAM,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/B,eAAe,SAASC,KAAKA,CAAA,EAAG;EAAAC,EAAA;EAC9B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACQ,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACU,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAC;IAAEY,IAAI,EAAC,KAAK;IAAEC,IAAI,EAAC;EAAG,CAAC,CAAC;EAE7D,MAAMC,WAAW,GAAG,MAAOC,CAAC,IAAK;IAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMhB,GAAG,CAACiB,IAAI,CAAC,aAAa,EAAE;QAAEZ,KAAK;QAAEE;MAAS,CAAC,CAAC;MAC9D,IAAIS,GAAG,CAACE,IAAI,CAACC,EAAE,EAAE;QACfC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,GAAG,CAACE,IAAI,CAACI,KAAK,CAAC;QAC7CZ,SAAS,CAAC;UAAEC,IAAI,EAAC,IAAI;UAAEC,IAAI,EAAEI,GAAG,CAACE,IAAI,CAACK;QAAU,CAAC,CAAC;QAClDC,UAAU,CAAC,MAAM;UAAEC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAC,YAAY;QAAE,CAAC,EAAE,IAAI,CAAC;MAChE;IACF,CAAC,CAAC,OAAOC,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,kBAAA;MACZC,KAAK,CAAC,EAAAF,aAAA,GAAAD,GAAG,CAACI,QAAQ,cAAAH,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcX,IAAI,cAAAY,kBAAA,uBAAlBA,kBAAA,CAAoBG,KAAK,KAAI,cAAc,CAAC;IACpD;EACF,CAAC;EAED,oBACE/B,OAAA;IAAKgC,SAAS,EAAC,WAAW;IAAAC,QAAA,GACvB1B,MAAM,CAACE,IAAI,iBAAIT,OAAA;MAAKgC,SAAS,EAAC,QAAQ;MAAAC,QAAA,eAACjC,OAAA;QAAAiC,QAAA,GAAI,WAAS,EAAC1B,MAAM,CAACG,IAAI,EAAC,eAAG;MAAA;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAChFrC,OAAA;MAAKgC,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACnBjC,OAAA;QAAAiC,QAAA,EAAI;MAAK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACdrC,OAAA;QAAMsC,QAAQ,EAAE3B,WAAY;QAACqB,SAAS,EAAC,MAAM;QAACO,KAAK,EAAE;UAACC,aAAa,EAAC;QAAQ,CAAE;QAAAP,QAAA,gBAC5EjC,OAAA;UAAOyC,IAAI,EAAC,OAAO;UAACC,WAAW,EAAC,OAAO;UAACC,QAAQ,EAAG/B,CAAC,IAAGR,QAAQ,CAACQ,CAAC,CAACgC,MAAM,CAACC,KAAK,CAAE;UAACC,QAAQ;QAAA;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC,eAC3FrC,OAAA;UAAOyC,IAAI,EAAC,UAAU;UAACC,WAAW,EAAC,UAAU;UAACC,QAAQ,EAAG/B,CAAC,IAAGN,WAAW,CAACM,CAAC,CAACgC,MAAM,CAACC,KAAK,CAAE;UAACC,QAAQ;QAAA;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC,eACpGrC,OAAA;UAAQyC,IAAI,EAAC,QAAQ;UAAAR,QAAA,EAAC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChC,CAAC,eACPrC,OAAA;QAAAkC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACLrC,OAAA,CAAC+C,cAAc;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACf,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACnC,EAAA,CAlCuBD,KAAK;AAAA+C,EAAA,GAAL/C,KAAK;AAoC7B,SAAS8C,cAAcA,CAAA,EAAE;EAAAE,GAAA;EACvB,MAAM,CAAC9C,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACqD,IAAI,EAAEC,OAAO,CAAC,GAAGtD,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACuD,IAAI,EAAEC,OAAO,CAAC,GAAGxD,QAAQ,CAAC,CAAC,CAAC;EACnC,MAAM,CAACyD,WAAW,EAAEC,cAAc,CAAC,GAAG1D,QAAQ,CAAC,EAAE,CAAC;EAElD,MAAM2D,IAAI,GAAG,MAAAA,CAAA,KAAY;IACvB,MAAM1D,GAAG,CAACiB,IAAI,CAAC,uBAAuB,EAAE;MAAEZ;IAAM,CAAC,CAAC;IAClD0B,KAAK,CAAC,mBAAmB,CAAC;IAC1BwB,OAAO,CAAC,CAAC,CAAC;EACZ,CAAC;EACD,MAAMI,KAAK,GAAG,MAAAA,CAAA,KAAY;IACxB,MAAM3D,GAAG,CAACiB,IAAI,CAAC,oBAAoB,EAAE;MAAEZ,KAAK;MAAE+C,IAAI;MAAEI;IAAY,CAAC,CAAC;IAClEzB,KAAK,CAAC,0CAA0C,CAAC;IACjDN,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAC,QAAQ;EAC/B,CAAC;EAED,oBACEzB,OAAA;IAAKgC,SAAS,EAAC,MAAM;IAAAC,QAAA,gBACnBjC,OAAA;MAAAiC,QAAA,EAAI;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACxBe,IAAI,KAAG,CAAC,iBAAKpD,OAAA;MAAKgC,SAAS,EAAC,MAAM;MAAAC,QAAA,gBAACjC,OAAA;QAAO0C,WAAW,EAAC,kBAAkB;QAACC,QAAQ,EAAG/B,CAAC,IAAGR,QAAQ,CAACQ,CAAC,CAACgC,MAAM,CAACC,KAAK;MAAE;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAAArC,OAAA;QAAQ0D,OAAO,EAAEF,IAAK;QAAAvB,QAAA,EAAC;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAE,EACnKe,IAAI,KAAG,CAAC,iBAAKpD,OAAA;MAAKgC,SAAS,EAAC,MAAM;MAACO,KAAK,EAAE;QAACC,aAAa,EAAC;MAAQ,CAAE;MAAAP,QAAA,gBAClEjC,OAAA;QAAO0C,WAAW,EAAC,WAAW;QAACC,QAAQ,EAAG/B,CAAC,IAAGuC,OAAO,CAACvC,CAAC,CAACgC,MAAM,CAACC,KAAK;MAAE;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACzErC,OAAA;QAAOyC,IAAI,EAAC,UAAU;QAACC,WAAW,EAAC,cAAc;QAACC,QAAQ,EAAG/B,CAAC,IAAG2C,cAAc,CAAC3C,CAAC,CAACgC,MAAM,CAACC,KAAK;MAAE;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACnGrC,OAAA;QAAQ0D,OAAO,EAAED,KAAM;QAAAxB,QAAA,EAAC;MAAc;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5C,CAAE;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV;AAACY,GAAA,CA5BQF,cAAc;AAAAY,GAAA,GAAdZ,cAAc;AAAA,IAAAC,EAAA,EAAAW,GAAA;AAAAC,YAAA,CAAAZ,EAAA;AAAAY,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}